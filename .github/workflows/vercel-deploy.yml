name: Request Deployment Approval (Dev)

on:
  push:
    branches:
      - main  # Triggers on push to dev branch
  workflow_dispatch:  # Allows manual trigger from UI

jobs:
  request-approval:
    runs-on: ubuntu-latest
    steps:
      - name: Request approval
        run: echo "Waiting for approval before deploying to Vercel..."

  hold:
    runs-on: ubuntu-latest
    needs: request-approval
    steps:
      - name: Wait for manual approval
        run: echo "Please approve the deployment in GitHub Actions."
    
    environment:
      name: production  # Environment for deployment approval
      url: https://github.com/${{ github.repository }}/actions